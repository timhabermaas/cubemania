// Generated by CoffeeScript 1.10.0
(function() {
  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Cubemania.Views.Subnavigation = (function(superClass) {
    extend(Subnavigation, superClass);

    function Subnavigation() {
      return Subnavigation.__super__.constructor.apply(this, arguments);
    }

    Subnavigation.prototype.events = {
      "click #kinds a": "kindClicked"
    };

    Subnavigation.prototype.initialize = function() {
      return this.intervalId = null;
    };

    Subnavigation.prototype.kindClicked = function(event) {
      var index;
      event.preventDefault();
      index = $(event.currentTarget).parent().index();
      this.checkKind(index);
      return this.resetTimerAndReshowPuzzles();
    };

    Subnavigation.prototype.checkKind = function(index) {
      this.$("#kinds ul").children("li").removeClass("checked").eq(index).addClass("checked");
      return this.$("#puzzles > ul").animate({
        left: -100 * index + "%"
      }, "normal");
    };

    Subnavigation.prototype.makeAutoHideable = function() {
      clearTimeout(this.intervalId);
      return this.intervalId = setTimeout(this.slidePuzzlesUp, 7000);
    };

    Subnavigation.prototype.unmakeAutoHideable = function() {
      clearTimeout(this.intervalId);
      return this.intervalId = null;
    };

    Subnavigation.prototype.resetTimerAndReshowPuzzles = function() {
      clearTimeout(this.intervalId);
      if (this.intervalId != null) {
        this.intervalId = setTimeout(this.slidePuzzlesUp, 7000);
      }
      return this.slidePuzzlesDown();
    };

    Subnavigation.prototype.hide = function() {
      return $(this.el).hide();
    };

    Subnavigation.prototype.show = function() {
      $(this.el).show();
      return this.$("#puzzles").show();
    };

    Subnavigation.prototype.slidePuzzlesUp = function() {
      return this.$("#puzzles").slideUp("slow");
    };

    Subnavigation.prototype.slidePuzzlesDown = function() {
      return this.$("#puzzles").slideDown("slow");
    };

    return Subnavigation;

  })(Backbone.View);

}).call(this);
