// Generated by CoffeeScript 1.10.0
(function() {
  var root, tooltip;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  Array.max = function(array) {
    return Math.max.apply(Math, array);
  };

  Array.min = function(array) {
    return Math.min.apply(Math, array);
  };

  Array.sum = function(array) {
    var i, item, len, total;
    total = 0;
    for (i = 0, len = array.length; i < len; i++) {
      item = array[i];
      total += item;
    }
    return total;
  };

  $.fn.toggleText = function(open, close) {
    return $(this).text($(this).text() === open ? close : open);
  };

  root.timeInWords = function(seconds) {
    var days, hours, l, minutes, substitute, words, years;
    l = {
      seconds: "less than a minute",
      minute: "about a minute",
      minutes: "%d minutes",
      hour: "about an hour",
      hours: "about %d hours",
      day: "a day",
      days: "%d days",
      month: "about a month",
      months: "%d months",
      year: "about a year",
      years: "%d years",
      wordSeparator: " "
    };
    minutes = seconds / 60;
    hours = minutes / 60;
    days = hours / 24;
    years = days / 365;
    substitute = function(string, value) {
      return string.replace(/%d/i, value);
    };
    return words = seconds < 45 && substitute(l.seconds, Math.round(seconds)) || seconds < 90 && substitute(l.minute, 1) || minutes < 45 && substitute(l.minutes, Math.round(minutes)) || minutes < 90 && substitute(l.hour, 1) || hours < 24 && substitute(l.hours, Math.round(hours)) || hours < 42 && substitute(l.day, 1) || days < 30 && substitute(l.days, Math.round(days)) || days < 45 && substitute(l.month, 1) || days < 365 && substitute(l.months, Math.round(days / 30)) || years < 1.5 && substitute(l.year, 1) || substitute(l.years, Math.round(years));
  };

  tooltip = function() {
    var xOffset, yOffset;
    xOffset = 10;
    yOffset = 20;
    return $(".tooltip").hover(function(e) {
      if (this.title === "") {
        return;
      }
      this.t = this.title;
      this.title = "";
      $("#tooltip").text(this.t);
      return $("#tooltip").animate({
        top: (e.pageY - xOffset) + "px",
        left: (e.pageX + yOffset) + "px"
      }, {
        queue: false,
        duration: 400
      }).fadeIn("normal");
    }, function() {
      if (this.t === null) {
        return;
      }
      this.title = this.t;
      return $("#tooltip").hide();
    });
  };

}).call(this);
